-- BEGIN Added by all-cabal-hashes-tool
x-package-hashes:
    MD5:6f4249cd09c06370f78dff6403e9c8b8
    SHA1:bd39d80775a6744cb01fa161ae4d66b365b59ed9
    SHA256:ccf393d582b88099205b6872f4d567b29a01684f947c592199411f6884f3d800
    SHA512:b32984c2439be440a5becf092f837aca307560d1d9ab765bf3fff339ded77e68a32bb0da8f463a124c5ec2ee141f69de4f8e6efc3cfa481e7d8dd3789989eea4
    Skein512_512:d1293bf7a9f137fe88059ae75a89ab36de50e8bf972ab822c095269483b6ba3deedc6a4d18e2205f30efef6a75b85f696d894ac98884b71cb0e995573c369c69

x-package-locations:
    https://hackage.haskell.org/package/sendfile-0.1/sendfile-0.1.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/sendfile-0.1.tar.gz

x-package-size: 3088
-- END Added by all-cabal-hashes-tool

name:          sendfile
version:       0.1
stability:     experimental
synopsis:      A portable sendfile library
description:   A library which exposes zero-copy sendfile functionality in a portable way. If a platform does not support sendfile, a fallback implementation in haskell is provided.
license:       BSD3
license-file:  LICENSE
author:        Matthew Elder <matt@mattelder.org>
maintainer:    Matthew Elder <matt@mattelder.org>
homepage:      http://patch-tag.com/r/sendfile
category:      Network
build-type:    Simple
cabal-version: >= 1.6

flag portable
    description: Explicitly enable portable sendfile support (implemented in Haskell)
    default:     False

library
    hs-source-dirs:  src

    exposed-modules: SendFile
                     SendFile.Internal
    
    build-depends:   base >= 3 && < 5,
                     bytestring >= 0.9.1.4 && < 0.10,
                     network >= 2 && < 3
    
    if flag(portable)
      cc-options: -DPORTABLE_SENDFILE
    else
      if os(windows)
        cc-options: -DWIN32_SENDFILE
        c-sources: csrc/sendfile_win32.c
        extra-libraries: kernel32, mswsock
      else
        if os(linux)
          cc-options: -DLINUX_SENDFILE
          c-sources: csrc/sendfile_linux.c
        else
          cc-options: -DPORTABLE_SENDFILE

source-repository head
    type:     darcs
    location: http://patch-tag.com/r/sendfile/pullrepo


-- BEGIN Added by all-cabal-hashes-tool
package-hashes:
    MD5:ba90eb4a7907a3678692b4ba1917dbff
    SHA1:ae3672ce151a66d6f04538e03fe40b41046abe34
    SHA256:e8e1c309dd5b39226a36ff1080bf78a446bae94eb7803239695da7f17e46133f
    SHA512:41239b1a251bc6d1bcbfe6737acf5c0fe0039a5c476f996abb9489e1bfab84f0c57fba5ea385fbd7b7f50719431ebb3393f57ba298f82ec76169782651769bd6
    Skein512_512:b71185420353be2119b5743a5cf6f9d8cf8c4a513e6e8b3e411fd8e0bc25684ddd546cffd148c9ff6b0a376c8dc8f82acec91e77fcb1277706bc98710dd4ef5f

package-locations:
    https://hackage.haskell.org/package/sendfile-0.2/sendfile-0.2.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/sendfile-0.2.tar.gz

package-size: 3507
-- END Added by all-cabal-hashes-tool

name:          sendfile
version:       0.2
stability:     experimental
synopsis:      A portable sendfile library
description:   A library which exposes zero-copy sendfile functionality in a portable way. If a platform does not support sendfile, a fallback implementation in haskell is provided.
               .
               Currently supported platforms:
               * Windows 2000+ (Native)
               * Linux 2.6+ (Native)
               * Everything else (Haskell)

license:       BSD3
license-file:  LICENSE
author:        Matthew Elder <matt@mattelder.org>
maintainer:    Matthew Elder <matt@mattelder.org>
homepage:      http://patch-tag.com/r/sendfile
category:      Network
build-type:    Simple
cabal-version: >= 1.6

flag portable
    description: Explicitly enable portable sendfile support (implemented in Haskell)
    default:     False

library
    hs-source-dirs:  src

    exposed-modules: SendFile

    other-modules:   SendFile.Internal
    
    build-depends:   base >= 3 && < 5,
                     network >= 2 && < 3
    
    if os(windows) && !flag(portable)
      cc-options: -DWIN32_SENDFILE
      c-sources: csrc/sendfile_win32.c
      extra-libraries: kernel32, mswsock
    else
      if os(linux) && !flag(portable)
        cc-options: -DLINUX_SENDFILE
        c-sources: csrc/sendfile_linux.c
      else
        cc-options: -DPORTABLE_SENDFILE
        build-depends: bytestring >= 0.9.1.4 && < 0.10

source-repository head
    type:     darcs
    location: http://patch-tag.com/r/sendfile/pullrepo

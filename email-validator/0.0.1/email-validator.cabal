name:           email-validator
version:        0.0.1
cabal-version:  >= 1.8
author:         Michael Orlitzky
maintainer:	Michael Orlitzky <michael@orlitzky.com>
category:       Utils
license:        GPL-3
license-file:   doc/LICENSE
build-type:     Simple
extra-source-files:
  doc/man1/email-validator.1
synopsis:
  Perform basic syntax and deliverability checks on email addresses.
description:
  Validate an email address using three techniques:
  .
    * Ensuring that the length of local and domain parts is within the
      RFC-specified limits.
  .
    * A syntax check using a regular expression, or the full RFC 5322
      grammar (see the @--rfc5322@ option).
  .
    * Confirmation of the existence of an @MX@ record for the domain part of
      the address. This is not required; in fact many domains accept mail
      via an @A@ record for e.g. example.com which is used in lieu of an @MX@
      record. This behavior can be controlled via the @--accept-a@ flag.
  .
  These checks are performed in parallel using the number of available
  threads. To increase the number of threads, you can pass the
  appropriate flag to the GHC runtime.
  .
  This will set the number of threads to 25:
  .
  @
  $ email-validator -i addresses.csv +RTS -N25
  @
  .
  /Input/
  .
  The @input@ file (default: stdin) should be a list of email addresses,
  one per line. Empty lines will be ignored.
  .
  /Output/
  .
  Valid email addresses will be written to the output file (default:
  stdout), one per line.


executable email-validator
  build-depends:
    base                        == 4.*,
    bytestring                  == 0.10.*,
    cmdargs                     == 0.10.*,
    directory                   == 1.2.*,
    dns                         == 0.3.*,
    email-validate              == 1.*,
    HUnit                       == 1.2.*,
    parallel-io                 == 0.3.*,
    pcre-light                  >= 0.4,
    test-framework              == 0.8.*,
    test-framework-hunit        == 0.3.*,
    utf8-string                 == 0.3.*

  main-is:
    Main.hs

  hs-source-dirs:
    src/

  other-modules:
    CommandLine
    EmailAddress
    ExitCodes

  ghc-options:
    -Wall
    -fwarn-hi-shadowing
    -fwarn-missing-signatures
    -fwarn-name-shadowing
    -fwarn-orphans
    -fwarn-type-defaults
    -fwarn-tabs
    -fwarn-incomplete-record-updates
    -fwarn-monomorphism-restriction
    -fwarn-unused-do-bind
    -rtsopts
    -threaded
    -optc-O3
    -optc-march=native
    -O2

  ghc-prof-options:
    -prof
    -auto-all
    -caf-all


test-suite testsuite
  type: exitcode-stdio-1.0
  hs-source-dirs: src test
  main-is: TestSuite.hs
  build-depends:
    base                        == 4.*,
    bytestring                  == 0.10.*,
    cmdargs                     == 0.10.*,
    directory                   == 1.2.*,
    dns                         == 0.3.*,
    email-validate              == 1.*,
    HUnit                       == 1.2.*,
    parallel-io                 == 0.3.*,
    pcre-light                  >= 0.4,
    test-framework              == 0.8.*,
    test-framework-hunit        == 0.3.*,
    utf8-string                 == 0.3.*

  -- It's not entirely clear to me why I have to reproduce all of this.
  ghc-options:
    -Wall
    -fwarn-hi-shadowing
    -fwarn-missing-signatures
    -fwarn-name-shadowing
    -fwarn-orphans
    -fwarn-type-defaults
    -fwarn-tabs
    -fwarn-incomplete-record-updates
    -fwarn-monomorphism-restriction
    -fwarn-unused-do-bind
    -rtsopts
    -threaded
    -optc-O3
    -optc-march=native
    -O2

source-repository head
  type: git
  location: http://michael.orlitzky.com/git/email-validator.git
  branch: master


package-hashes:
    MD5:b76f55525eea1d1a279a1e8aeeeed65e
    SHA1:44015cdd2c128131f4e70a39e220236181c00501
    SHA256:eed2dcd35c307aa352f6fc33e25cabe283e3d10ba6d4b6337be191f6e0cc96a9
    SHA512:41d851bc712b9b5b30c34b96f79be25ff9dd5d30431194dd7350eaf464a4fb3e7a8535b85ed53e2c439d3421910314c02f0c8ffe52dd7e3329704ed9ac655581
    Skein512_512:a43550464dff97e2c599228a450f4a64ca25fc17e1d995e8db35b987a9dfd348a91b45a33a51f499dfff3227dec81854c9288728f854277f3bbaaa896a89f2ba

package-locations:
    https://hackage.haskell.org/package/email-validator-0.0.1/email-validator-0.0.1.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/email-validator-0.0.1.tar.gz


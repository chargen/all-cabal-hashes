-- BEGIN Added by all-cabal-hashes-tool
x-package-hashes:
    MD5:b9dd48ba7a6dfea36f5193c15cb468b8
    SHA1:abaec660be60543ad90a710d86ae7a4029d75405
    SHA256:400f1fa02c3edf4a984197fcc97c005b3e201e6332e032aac4b7d8843cad0ca4
    SHA512:6ffbdef5fc4542d59e902e7121226cb170d4e4f26b8669e42a33cd9cd351a6339535b9e3ac03938769eb31295b882ccc885493092891807b5b0f5dc1450dccbc
    Skein512_512:850182cece6c5e0e5a161b0a461f5ec043951e3bc7f77e7fa07ffbc552348da3ff7ce501a59e1a7b2c5454df9212b17468b3b6d23080d1fdcdef0528414c42cd

x-package-locations:
    https://hackage.haskell.org/package/splice-0.2/splice-0.2.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/splice-0.2.tar.gz

x-package-size: 4358
-- END Added by all-cabal-hashes-tool

name:          splice
version:       0.2
stability:     stable on Linux, experimental on other operating systems
synopsis:      Socket to Socket Data Splicing
description:   A library that implements efficient socket to socket
               data transfer loops for proxy servers.
               .
               On Linux, it uses the zero-copy splice() system call:
               <http://kerneltrap.org/node/6505>.
               .
               On all other operating systems, it currently falls back
               to a portable Haskell implementation that allocates a
               constant-sized memory buffer before it enters an inner
               loop which then uses hGetBufSome and hPutBuf; this avoids
               lots of tiny allocations as would otherwise be caused by
               recv and sendAll functions from Network.Socket.ByteString.
               .
               This work is funded by Corsis Research and used in:
               .
               PortFusion ]-[ayabusa – German
               research project for building the simplest
               high-performance distributed reverse / forward proxy.
               .
               <https://sourceforge.net/p/portfusion/wiki/RoadMap/>
license:       BSD3
license-file:  LICENSE
author:        Cetin Sert <fusion@corsis.eu>
maintainer:    Cetin Sert <fusion@corsis.eu>
homepage:      http://fusion.corsis.eu
category:      Network
build-type:    Simple
cabal-version: >=1.2
copyright:     Copyright © 2012 Cetin Sert
tested-with:   GHC >= 7.4.3


flag portable
    description: explicitly enable portable splice implemented in Haskell
    default    : False


library

    hs-source-dirs:  src

    exposed-modules: Network.Socket.Splice

    if os(linux) && !flag(portable)
      build-depends: base    >= 4 && <= 6,
                     network >= 2 && <= 4,
                     unix    >= 2 && <= 4
      cpp-options: -DLINUX_SPLICE
      ghc-options: -O2 -O3 -fllvm -optlo-O3
    else
      build-depends: base    >= 4 && <= 6,
                     network >= 2 && <= 4
      cpp-options: -ULINUX_SPLICE
      ghc-options: -O2 -O3

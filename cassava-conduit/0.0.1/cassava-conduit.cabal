name:               cassava-conduit
version:            0.0.1
license:            BSD3
license-file:       etc/LICENCE.md
author:             Dom De Re
maintainer:         Dom De Re
copyright:          Copyright (C) 2014
synopsis:           Conduit interface for cassava package
category:           Data
description:        Conduit interface for cassava package
homepage:           https://github.com/domdere/cassava-conduit/issues
bug-reports:        https://github.com/domdere/cassava-conduit/issues
cabal-version:      >= 1.18
build-type:         Custom
--extra-source-files: etc/CONTRIBUTORS,
--                    etc/CREDITS

source-repository       head
    type:               git
    location:           https://github.com/domdere/cassava-conduit

flag                    small_base
    description:        Choose the new, split-up base package.

library
    default-language:   Haskell2010

    build-depends:      base < 5 && >= 4
                    ,   containers
                    ,   array
                    ,   bifunctors              == 4.2.*
                    ,   bytestring              == 0.10.*
                    ,   cassava                 == 0.4.*
                    ,   conduit                 == 1.2.*
                    ,   conduit-extra           == 1.1.*
                    ,   mtl                     == 2.2.*

    ghc-options:        -Wall
                        -fno-warn-unused-imports
                        -fno-warn-unused-binds
                        -fno-warn-unused-do-bind
                        -fno-warn-type-defaults

    hs-source-dirs:     src

    exposed-modules:    Data.Csv.Conduit

    other-modules:      LocalPrelude

    default-extensions: NoImplicitPrelude

-- doctests are disabled (there are not doctests in the code atm)
-- since the latest version of doctests doesnt support GHC 7.4 and 7.6
-- and I would like to maintain support for these versions for a while

--test-suite              doctests
--    type:
--                        exitcode-stdio-1.0
--
--    main-is:
--                        Main.hs
--
--    default-language:
--                        Haskell2010
--
--    build-depends:
--                        base                >= 4 && < 5
--                    ,   doctest             >= 0.9.11
--                    ,   filepath            >= 1.3
--                    ,   directory           >= 1.1
--                    ,   QuickCheck          >= 2.0
--                    ,   template-haskell    == 2.9.*
--
--    ghc-options:
--                        -Wall
--                        -threaded
--
--    hs-source-dirs:
--                        doctests

test-suite              quickcheck
    default-language:   Haskell2010
    type:               exitcode-stdio-1.0
    main-is:            Main.hs
    hs-source-dirs:     quickcheck
    build-depends:      base                >= 4 && < 5
                    ,   QuickCheck          == 2.7.6
                    ,   cassava-conduit


-- HLint tests are disabled until the SCC tags dont cause parse errors in HLint

--test-suite              hlint
--    default-language:   Haskell2010
--    type:               exitcode-stdio-1.0
--    main-is:            Main.hs
--    hs-source-dirs:     hlint
--    build-depends:      base
--                    ,   hlint               == 1.9.*

benchmark               benchmarks
    default-language:   Haskell2010
    type:               exitcode-stdio-1.0
    hs-source-dirs:     benchmarks
    main-is:            Main.hs
    ghc-options:        -O2 -rtsopts

    build-depends:      base > 4 && <= 5
                    ,   cassava-conduit
                    ,   criterion >= 0.8


package-hashes:
    MD5:d422c141cd05290c69a3bdc6498bda30
    SHA1:7800750090939ae483f50d8e51252b41e4022217
    SHA256:35f03e901b717181182181ffcfc3bbdc95a45a44c9cabc0a90a9d758f3bb518d
    SHA512:2d8062d83c34b70071dd679c5690469ce9a7888c59ab029c9d0f8327436a24be96c22b60cd6afe589451a79ba91547381559b3a59af6cf0e704d07abd985f0f7
    Skein512_512:b3fc51cb07b68ec3acb67ca2a0b3dfbf5e42654a08ba2941d955f23cd01b79f97b42e9cacc470f041052870f27ea8e648b88f9ccafaa774f0265f1953e585b3d

package-locations:
    https://hackage.haskell.org/package/cassava-conduit-0.0.1/cassava-conduit-0.0.1.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/cassava-conduit-0.0.1.tar.gz

package-size: 4998

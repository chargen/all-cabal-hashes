name:                effin
version:             0.2.1.3
synopsis:            A Typeable-free implementation of extensible effects
homepage:            https://github.com/YellPika/effin
license:             BSD3
license-file:        LICENSE
author:              Anthony Vandikas
maintainer:          yellpika@gmail.com
copyright:           (c) 2014 Anthony Vandikas
category:            Control, Effect
build-type:          Simple
cabal-version:       >=1.10
description:
  This package implements extensible effects, and alternative to monad
  transformers. The original paper can be found at
  <http://okmij.org/ftp/Haskell/extensible/exteff.pdf>. The main differences
  between this library and the one described in the paper are that this library
  does not use the Typeable type class, does not require that effects implement
  the Functor type class, and has a simpler API for handling
  effects.
  .
  For example, the following code implements a handler for exceptions:
  .
  > newtype Exception e = Throw e
  >
  > runException :: Effect (Exception e :+ es) a -> Effect es (Either e a)
  > runException = eliminate
  >     (\x -> return (Right x))
  >     (\(Throw e) k -> return (Left e))
  .
  Compare this to the corresponding code in extensible-effects
  (<http://hackage.haskell.org/package/extensible-effects>):
  .
  > runExc :: Typeable e => Eff (Exc e :> r) a -> Eff r (Either e a)
  > runExc = loop . admin
  >   where
  >     loop (Val x) = return (Right x)
  >     loop (E u)   = handleRelay u loop (\(Exc e) -> return (Left e))
  .
  In particular, effect implementors are not required to do any recursion,
  thereby making effect handlers more composeable.

flag mtl
  description: Enable MTL support
  default: True
  manual: True

library
  exposed-modules:
    Control.Effect,
    Control.Effect.Bracket,
    Control.Effect.Coroutine,
    Control.Effect.Exception,
    Control.Effect.Reader,
    Control.Effect.Lift,
    Control.Effect.List,
    Control.Effect.State,
    Control.Effect.Thread,
    Control.Effect.Witness,
    Control.Effect.Writer,
    Control.Monad.Effect

  other-modules:
    Data.Index,
    Data.Type.Row,
    Data.Type.Nat
    Data.Union

  build-depends: base >= 4.7 && < 4.8
  if flag(mtl)
    build-depends: mtl >= 2.1 && < 3

  hs-source-dirs: src
  default-language: Haskell2010
  ghc-options: -Wall

  if flag(mtl)
    cpp-options: -DMTL

source-repository head
  type:     git
  location: git://github.com/YellPika/effin.git


package-hashes:
    MD5:a8b3164554eee441d7bc5183d65b4a09
    SHA1:a4be133cda6ceebb7da3b24caff706a068c3a7b3
    SHA256:103a24ed4594f296e81b65db370af406b7fdbde8da3cad6b9a333a4891da6347
    SHA512:2c60f431303bb4aa7f66e5addcd9fc34a7359779511472c4f61778a0bf3363355f4350b2945b5d3eb7025eacd7ca682f0251a6064b382c6681ce56acb352329b
    Skein512_512:130230bae96154fad3bfe95b97d8b9901f7847eb6283ed9bd38541c671465c1b429d312f89a758a8a5c6ab66a167ffc72f51a515f57addfeb6341a0f3b806524

package-locations:
    https://hackage.haskell.org/package/effin-0.2.1.3/effin-0.2.1.3.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/effin-0.2.1.3.tar.gz


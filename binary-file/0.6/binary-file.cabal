build-type:	Simple
cabal-version:	>= 1.8

name:		binary-file
version:	0.6
stability:	experimental
author:		Yoshikuni Jujo <PAF01143@nifty.ne.jp>
maintainer:	Yoshikuni Jujo <PAF01143@nifty.ne.jp>

license:	BSD3
license-file:	LICENSE

category:	File
synopsis:	read/write binary file
description:

    > runghc -XQuasiQuotes exam.hs some.bmp out.bmp
    .
    exam.hs:
    .
    > import File.Binary
    > import System.Environment
    > import Data.ByteString as BS
    >
    > main = do
    >	[inf, outf] <- getArgs
    >
    >	-- cnt <- readBinaryFile inf
    >   cnt <- BS.readFile inf
    >	let bmp = readBitmap cnt
    >	print $ readBitmap cnt
    >
    >	let out = writeBitmap bmp {
    >		authorFirst = "Yoshikuni ",
    >		authorSecond = "Jujo      "
    >	 }
    >	-- writeBinaryFile outf out
    >   BS.writeFile outf out
    >
    > [binary|
    >
    > Bitmap
    >
    > 2: "BM"
    > 4: fileSize
    > 2: 0
    > 2: 0
    > 4: offset
    > 4: 40
    > 4: bitmapWidth
    > 4: bitmapHeight
    > 2: 1
    > 2: bitsPerPixel
    > 4: compressionMethod
    > 4: imageSize
    > 4: horizontalResolution
    > 4: verticalResolution
    > 4: numberOfColors
    > 4: importantColors
    > 4<(Int, Int, Int)>[numberOfColors]: colors
    > -- bitsPerPixel/8[imageSize*8/bitsPerPixel]: image
    > imageSize<ByteString>: image
    > 10<String>: authorFirst
    > 10<String>: authorSecond
    > 
    > |]
    .

library
    hs-source-dirs:	src
    exposed-modules:	File.Binary
    other-modules:	QuoteBinaryStructure, ParseBinaryStructure, Here
    build-depends:	base > 3 && < 5, template-haskell, peggy, bytestring
    ghc-options:	-Wall


package-hashes:
    MD5:037acebc6423791b63e4ec367d0efcb6
    SHA1:0402d633cd6a96fb57b00f1ce53b9beef97f8a93
    SHA256:6d0b47191cf92a1acbc5780ee39dea12260e128bc5edccc1c34ce03a1cd95555
    SHA512:97b61e9a3b614811fc126aaea7326c3ff32fcd0b3c7ad706e284e50b24766db456fbc11c8cb012c09c9e973aec0928aafe8989ea178a81c111d4fa2803d97d1d
    Skein512_512:4e83ddcda57ba90d25e1a4ccc6340b41dbc36b086d7c4f406d9785ce0cd73d3b449780ab8999e7a09a6ca7f556e3e1ad907a7d7beb4eb03d76cd4bcde1073e83

package-locations:
    https://hackage.haskell.org/package/binary-file-0.6/binary-file-0.6.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/binary-file-0.6.tar.gz

package-size: 6360

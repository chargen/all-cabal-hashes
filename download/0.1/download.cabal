name:            download
version:         0.1
homepage:        http://code.haskell.org/~dons/code/download
synopsis:        High-level file download based on URLs
description:     High-level File download based on URLs
                 .
                 Download content as bytestrings, strings or parsed
                 tags, via ftp, http or file protocols.
category:        Network
license:         BSD3
license-file:    LICENSE
copyright:       (c) 2008, Don Stewart <dons@galois.com>
author:          Don Stewart
maintainer:      Don Stewart <dons@galois.com>
cabal-version:   >= 1.2.0
build-type:      Simple
tested-with:     GHC ==6.8.2

-- flag external
--  description: Build with an external libdownload
--  default:     False

-- flag small_base
--  description: Build with new smaller base library

library
    exposed-modules: Network.Download
    extensions:      CPP,
                     ForeignFunctionInterface,
                     GeneralizedNewtypeDeriving
    ghc-options:     -Wall -fvia-C
    build-depends:   base, bytestring, tagsoup

    ------------------------------------------------------------------------
    -- Building libdownload
    --
    -- We can build against either an external libdownload, or an internal one.

--    if flag(external)
--        extra-libraries:    download
--        c-sources:          cbits/hs_download_utils.c
--        include-dirs:       cbits
--        includes:           hs_download_utils.h
--        install-includes:   hs_download_utils.h
--    else

    cc-options:         -O2
                        -pipe
                        -DINET6
                        -D_GNU_SOURCE
                        -D_FILE_OFFSET_BITS=64
                        -Wall
                        -Wstrict-prototypes
                        -Wsign-compare
                        -Wchar-subscripts
                        -Wpointer-arith
                        -Wcast-align
                        -Wsign-compare
                        -UDEBUG

    c-sources:          cbits/download.c
                        cbits/common.c
                        cbits/ftp.c
                        cbits/http.c
                        cbits/file.c
                        cbits/hs_download_utils.c

    include-dirs:       cbits
    includes:           common.h
                        download.h
                        ftperr.h
                        httperr.h
                        hs_download_utils.h

    install-includes:   common.h
                        download.h
                        ftperr.h
                        httperr.h
                        hs_download_utils.h
                                               


package-hashes:
    MD5:fe1380c62ad640c1fac940a9fe03622e
    SHA1:16eefdbbb67e9a33c0605312e95665e78662df77
    SHA256:9cc35a633789b2281c26fddd4639c6b2c638023a30323969e682e8fffe766a94
    SHA512:c4c052a0b59852c8067a63894df9e87258c7d06d3284cc8c9da490d468df0ca69c39d643fe891ee1f22a35a50546fffe7ca8192e95d5c91e6bf646b493ec02bf
    Skein512_512:5c2cb521b5004ea2ff8f5214b03929f3cfa37b9e447ac5e10cfba887a475b67f56a190faefb2f216fceb96d15be5e2fbdeea6001ff2c5ae83dce5810855a632b

package-locations:
    https://hackage.haskell.org/package/download-0.1/download-0.1.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/download-0.1.tar.gz

package-size: 28455

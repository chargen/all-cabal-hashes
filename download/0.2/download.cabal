name:            download
version:         0.2
homepage:        http://code.haskell.org/~dons/code/download
synopsis:        High-level file download based on URLs
description:     High-level file download based on URLs
                 .
                 Download web content as strict bytestring, strings,
                 HTML tags, XML, RSS or Atom feeds or JSON, via HTTP,
                 FTP or file protocols, using a URL interface.
                 .                 
category:        Network
license:         BSD3
license-file:    LICENSE
copyright:       (c) 2008, Don Stewart <dons@galois.com>
author:          Don Stewart
maintainer:      Don Stewart <dons@galois.com>
cabal-version:   >= 1.2.0
build-type:      Simple
tested-with:     GHC ==6.8.2

-- flag external
--  description: Build with an external libdownload
--  default:     False

flag small_base
  description: Build with new smaller base library

library
    exposed-modules: Network.Download
    extensions:      CPP,
                     ForeignFunctionInterface,
                     EmptyDataDecls,
                     GeneralizedNewtypeDeriving

    ghc-options:     -Wall -fvia-C

    if flag(small_base)
        build-depends:   base >= 3, bytestring
    else
        build-depends:   base > 3

    build-depends: tagsoup, feed, xml

    ------------------------------------------------------------------------
    -- Building libdownload
    --
    -- We can build against either an external libdownload, or an internal one.

--    if flag(external)
--        extra-libraries:    download
--        c-sources:          cbits/hs_download_utils.c
--        include-dirs:       cbits
--        includes:           hs_download_utils.h
--        install-includes:   hs_download_utils.h
--    else

    cc-options:         -O2
                        -DINET6
                        -D_GNU_SOURCE
                        -D_FILE_OFFSET_BITS=64
                        -UDEBUG

    c-sources:          cbits/download.c
                        cbits/common.c
                        cbits/ftp.c
                        cbits/http.c
                        cbits/file.c
                        cbits/hs_download_utils.c

    include-dirs:       cbits
    includes:           common.h
                        download.h
                        ftperr.h
                        httperr.h
                        hs_download_utils.h

    install-includes:   common.h
                        download.h
                        ftperr.h
                        httperr.h
                        hs_download_utils.h
                                               


package-hashes:
    MD5:c48127ee87f5e471d7d16713ebf84300
    SHA1:b7fa6b52e6ae9bb0a2940f62670922d69db5384e
    SHA256:3dd0de2e07649d4ac0261e6c8efa758e10359fbccf556c2eea55093eef0d66e4
    SHA512:320473e98d03d50cd78ffcbb0084f59ab33662a309d76bb82d437f40f86a1424dd24704f655d3e81b86cf8c2edb3c880b70cb32fba5a855efa3191c57583aa08
    Skein512_512:6a0f055bf266ebba26c36a7a42c341f23490ec7996a609c84d969be31bf1af5f0dda8e7193a93b0ca98120bfabd58db152d51c24644bbf5edfe00e5afbbb4b99

package-locations:
    https://hackage.haskell.org/package/download-0.2/download-0.2.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/download-0.2.tar.gz


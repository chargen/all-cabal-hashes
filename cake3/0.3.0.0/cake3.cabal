-- Initial hmg.cabal generated by cabal init.  For further documentation, 
-- see http://haskell.org/cabal/users-guide/

name:                cake3
version:             0.3.0.0
synopsis:            Third cake the Makefile EDSL
description:         Cake3 is a Makefile EDSL written in Haskell. Write your build logic in
                     Haskell, obtain clean and safe Makefile, distribute it to the end-users.
                     GNU Make is required.
license:             BSD3
license-file:        LICENSE
author:              Sergey Mironov
maintainer:          grrwlf@gmail.com
homepage:            https://github.com/grwlf/cake3
description: 
    Cake3 is a EDSL for building Makefiles, written in Haskell. With cake3,
    developer can write their build logic in Haskell, obtain clean and safe Makefile
    and distribute it among the non-Haskell-aware users. Currenly, GNU Make is
    the only backend supported.
    .
    /Example program/
    .
    > module Cakefile where
    >
    > import Development.Cake3
    > import Cakefile_P
    >
    > cs = map file ["main.c", "second.c"]
    >
    > main = writeMake (file "Makefile") $ do
    >   selfUpdate
    >   d <- rule $ do
    >     shell [cmd|gcc -M $cs -MF @(file "depend.mk")|]
    >   os <- forM cs $ \c -> do
    >     rule $ do
    >       shell [cmd| gcc -c $(extvar "CFLAGS") -o @(c.="o") $c |]
    >   elf <- rule $ do
    >     shell [cmd| gcc -o @(file "main.elf") $os |]
    >   rule $ do
    >     phony "clean"
    >     unsafeShell [cmd|rm $elf $os $d|]
    >   rule $ do
    >     phony "all"
    >     depend elf
    >   includeMakefile d
    .
    /Basic workflow/
    .
      * Install the cake3
    .
      * Create Cakefile.hs in the project root
    .
      * Build the application using cake3 script provided
    . 
      * Execute the application to obtain the Makefile
    .
    See the README on the GitHub <https://github.com/grwlf/cake3> for more
    information. Distribution contains several example projects.
    .
    /Changes/
    .
    * 0.1 - Initial release
    .
    * 0.2 - Redesign (simplify) monadic interface, add support for prebuild/postbuild actions.
    .
    * 0.3 - API changes, improve documentation, improve UrWeb extension


category:            Development
build-type:          Simple
cabal-version:       >=1.8
data-dir:            src
data-files:          CakeScript.sh, UrEmbedHelp.txt

library
  exposed-modules:   Development.Cake3
                     Development.Cake3.Types
                     Development.Cake3.Writer
                     System.FilePath.Wrapper
                     Development.Cake3.Monad
                     Development.Cake3.Ext.UrWeb
                     Development.Cake3.Utils.Find
                     Text.QuasiMake

  build-depends:     base ==4.6.*, haskell-src-meta, template-haskell,
                     filepath, containers, text, monadloc, mtl,
                     bytestring, deepseq, system-filepath, text-format,
                     directory, attoparsec, mime-types,
                     language-javascript ==0.5.*, syb

  hs-source-dirs:    src

executable cake3
  hs-source-dirs:    src
  main-is:           CakeScript.hs
  build-depends:     base ==4.6.*, process
  other-modules:     Paths_cake3

executable urembed
  hs-source-dirs:    src
  main-is:           Development/Cake3/Ext/UrWeb/UrEmbed.hs
  build-depends:     base == 4.6.*, mtl, language-javascript ==0.5.*, process,
                     filepath, syb, optparse-applicative, directory,
                     text, bytestring, containers, language-javascript,
                     haskell-src-meta, template-haskell, attoparsec, monadloc,
                     mime-types
  other-modules:     Paths_cake3



package-hashes:
    MD5:f97c02a1068ac5a96049cda0a34ee596
    SHA1:68f164732d68d457cc70c24147bd0e0ba3582638
    SHA256:47e2be10757a49fc56251bce6fd912f2973c530b2b2d8af765746399f1e3ef1a
    SHA512:d70750dea9285e677d4514047f6b06eb42a3cc52c883d64898293e6c19971b4e97a19a5ad5b7d6d875e41465b6b2bcf86fd9b02c9cdc2a1722ffe63764f0f4c8
    Skein512_512:7751463c56799e3a27fdeaf71115c23b1aff733b2688316b574d472055750db6dd33d3de8595dd52bd330e3b8d784b6b816ecf4eeaaf41fd6f97b78e38f6025e

package-locations:
    https://hackage.haskell.org/package/cake3-0.3.0.0/cake3-0.3.0.0.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/cake3-0.3.0.0.tar.gz


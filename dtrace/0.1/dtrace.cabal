build-type:          Simple
name:                dtrace
version:             0.1
cabal-version:       >= 1.2
description:         Haskell interface to the DTrace system tracing utility
synopsis:            Haskell interface to the DTrace system tracing utility
category:            System
license:             BSD3
license-file:        LICENSE
author:              Aaron Tomb <aarontomb@gmail.com>
maintainer:          Aaron Tomb <aarontomb@gmail.com>
tested-with:         GHC == 6.8.2, GHC == 6.10.1
extra-source-files:  cbits/trace.d
                     cbits/trace.h
                     cbits/user-trace.c

flag test
  description: Build an example test program
  default: False

library
    build-depends:    base >= 3 && < 5
    extensions:       ForeignFunctionInterface CPP
    ghc-options:      -Wall
    ghc-prof-options: -prof -auto-all
    exposed-modules:  System.DTrace
    if os(darwin)
        includes:     cbits/trace.h
        c-sources:    cbits/user-trace.c
        cpp-options:  -DENABLE_TRACE=1

executable DTTest
    main-is: test/DTTest.hs
    ghc-options: -Wall -Werror
    if os(darwin)
        includes:     cbits/trace.h
        c-sources:    cbits/user-trace.c
        cpp-options:  -DENABLE_TRACE=1
    if flag(test)
        buildable: True
    else
        buildable: False



package-hashes:
    MD5:71eb8ae1b8c6c9ba0a24b4679008045b
    SHA1:f6d0bf203525da7107f36d1eb2d14a4b2fb0458d
    SHA256:393b9e0f3ed92d2b817ae162ad5478116d001ec8e05ddf3c65a0334029a45f63
    SHA512:b7c6e1d975cb538f83480cec58f08095ecc20bb2e359b99088b4062d9687fd1c5630ae29582e6be18200afa555ad7286279e341cdfe06daad30a75da32cb88d6
    Skein512_512:06950af624a55f640d029ea980d714db2b183e5285bd9799ccd06d80868f4f80223d18b5e08613edadd02702c620c1dbe8f141a63c4579e4cfddd12dbdc0f51c

package-locations:
    https://hackage.haskell.org/package/dtrace-0.1/dtrace-0.1.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/dtrace-0.1.tar.gz


name:           buildwrapper
version:        0.9.1
cabal-version:  >= 1.8
build-type:     Custom
license:        BSD3
license-file:   LICENSE
synopsis:       A library and an executable that provide an easy API for a Haskell IDE
description:    Buildwrapper is an alternative to scion. 
  It provides services to configure, build and give information on source files to help IDEs manage Haskell projects.
  You can use buildwrapper to build project and retrieve errors, get outline for each module source, get the type of something inside a source file, get lexer tokens, etc.
  Buildwrapper is used in the EclipseFP project (Eclipse plugins for Haskell development)
category:       Development
stability:      beta
maintainer:     JP Moresmau <jpmoresmau@gmail.com>
author:         JP Moresmau <jpmoresmau@gmail.com>, based on the work of Thomas Schilling and others
homepage:       https://github.com/JPMoresmau/BuildWrapper
extra-source-files: README.md
                    CHANGELOG

flag lib-Werror
  default: False
  manual: True

library
  hs-source-dirs:  src
  build-depends:   
                   base < 5,
                   filepath,
                   mtl,
                   directory,
                   Cabal,
                   dynamic-cabal >=0.3.1 && <0.4,
                   process,
                   regex-tdfa,
                   ghc,
                   ghc-paths,
                   syb,
                   text,
                   containers,
                   vector >= 0.8,
                   haskell-src-exts >= 1.12 && <1.17,
                   cpphs,
                   old-time,
                   aeson >=0.7 && <0.9,
                   unordered-containers,
                   utf8-string,
                   bytestring,
                   attoparsec>=0.11 && <0.13,
                   transformers,
                   deepseq,
                   ghc-pkg-lib,
                   conduit,
                   conduit-extra,
                   async
  ghc-options:     -Wall -fno-warn-unused-do-bind
  exposed-modules: 
                   Language.Haskell.BuildWrapper.API,
                   Language.Haskell.BuildWrapper.Base,
                   Language.Haskell.BuildWrapper.Cabal,
                   Language.Haskell.BuildWrapper.GHC
  extensions:      CPP
  other-modules:   
                   Language.Haskell.BuildWrapper.GHCStorage,
                   Language.Haskell.BuildWrapper.Src
  if impl(ghc >= 7.6)
    build-depends: 
                    time
  if flag(lib-Werror)
    ghc-options: -Werror


executable buildwrapper
  hs-source-dirs:  src-exe
  main-is:         Main.hs
  build-depends:   
                   base < 5,
                   buildwrapper,
                   cmdargs,
                   filepath,
                   Cabal,
                   dynamic-cabal >=0.3 && <0.4,
                   directory,
                   mtl,
                   ghc,
                   cpphs,
                   haskell-src-exts,
                   old-time,
                   ghc-paths,
                   vector >= 0.8,
                   containers,
                   syb,
                   process,
                   regex-tdfa,
                   text,
                   aeson,
                   bytestring,
                   transformers,
                   ghc-pkg-lib,
                   conduit,
                   conduit-extra,
                   async
  ghc-options:     -Wall -fno-warn-unused-do-bind -optl -s -threaded
  -- see https://ghc.haskell.org/trac/ghc/ticket/8376
--  if impl(ghc >= 7.8) && impl(ghc < 7.10)
--    ghc-options: 
--                   -dynamic
  other-modules:   Language.Haskell.BuildWrapper.CMD
  if impl(ghc >= 7.6)
    build-depends: 
                    time

test-suite buildwrapper-test
  type:            exitcode-stdio-1.0
  hs-source-dirs:  test
  build-depends:   
                   base < 5,
                   buildwrapper,
                   HUnit,
                   mtl,
                   filepath,
                   directory,
                   Cabal,
                   dynamic-cabal,
                   old-time,
                   aeson,
                   text,
                   process,
                   bytestring,
                   attoparsec,
                   HTF > 0.9,
                   transformers,
                   vector,
                   unordered-containers,
                   containers,
                   ghc-pkg-lib,
                   conduit,
                   conduit-extra,
                   async
  main-is:         Main.hs
  ghc-options:     -Wall -fno-warn-unused-do-bind -optl -s -threaded
  other-modules:   
                   Language.Haskell.BuildWrapper.APITest,
                   Language.Haskell.BuildWrapper.CMDTests,
                   Language.Haskell.BuildWrapper.GHCTests,
                   Language.Haskell.BuildWrapper.UsagesTests,
                   Language.Haskell.BuildWrapper.ImportsTests,
                   Language.Haskell.BuildWrapper.CabalDevTests,
                   Language.Haskell.BuildWrapper.CMDLongRunningTests
  if impl(ghc >= 7.6)
    build-depends: 
                    time

source-repository head
  type:     git
  location: git://github.com/JPMoresmau/BuildWrapper.git


package-hashes:
    MD5:6873479e7afbf511a9eab8aaab99b9a2
    SHA1:dafcd31860435a8de6aa3461f293f294a22454ca
    SHA256:23239b1b5c18418648aba4efea6f33176c827b082d80ada8a646fd1af11695c5
    SHA512:d025de4c141a45fbc1fa772c99046f9920e5e13c6430798b1c417e7769780af6f48ef50bb78ec03455480adb2ee8585f999131287ff562bc632ab57eae513e5a
    Skein512_512:e73828bdfccc31dbf6ba07c65d9e672c48290535d46f2946cbbba5e2060e6bae5bd59b0e80ef69aa45fe4c5fef5455e696368bada00f8389ad155a521b4e9f4b

package-locations:
    https://hackage.haskell.org/package/buildwrapper-0.9.1/buildwrapper-0.9.1.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/buildwrapper-0.9.1.tar.gz


Name:               bits-atomic
Version:            0.1.2
License:            BSD3
License-File:       License.txt
Maintainer:         Gabriel Wicke <wicke@wikidev.net>
Author:             Gabriel Wicke <wicke@wikidev.net>
Synopsis:       Atomic bit operations on memory locations 
                for low-level synchronization
Description:        
 Atomic operations including CAS (compare-and-swap), lock and fetch & add
 suitable for low-level shared-memory synchronization.
 .
 The implementation is using GCC's builtin atomic operations in C wrappers
 called through the FFI.
 .
 /Testing:/ The following commands can be used to compile and run the test suite:
 .
    > cabal unpack bits-atomic && cd bits-atomic-* # if not yet locally available
    > cabal configure -ftest
    > cabal build
    > cabal test
 .
 /Recent changes/:
 .
 * 0.1.2: Avoid using System.FilePath in Setup.hs to fix build failure on hackage
Category:           Data, Concurrency, Foreign
Stability:          experimental
Build-Type:         Custom
Cabal-Version: >= 1.6
Extra-Source-Files: cbits/atomic-bitops-gcc.c cbits/atomic-bitops-gcc.h
Source-Repository head
    type: mercurial
    location: http://dev.wikidev.net/hg/bits-atomic/

library
    Exposed-Modules:  Data.Bits.Atomic
    Build-Depends:    base >= 4 && < 6
    GHC-Options:      -Wall -O2 -funbox-strict-fields
    GHC-Prof-Options: -auto-all
    C-Sources:        cbits/atomic-bitops-gcc.c
    CC-Options:       -Wall
    if os (linux)
        CC-Options: -fomit-frame-pointer -march=native
    Include-Dirs:     cbits
    Install-Includes: atomic-bitops-gcc.h
    -- Try link-time optimization (inlining) with gcc 4.5:
    -- CC-Options:       -fomit-frame-pointer -march=native -Wall -flto
    --LD-Options:     -flto

flag test
    description: Build test program.
    default:     False

Executable test
    if flag(test)
        buildable:  True
        build-depends:   
                    base >= 4 && < 6, 
                    QuickCheck, 
                    HUnit,
                    test-framework-quickcheck2,
                    test-framework-hunit,
                    test-framework
    else
        buildable:  False
    hs-source-dirs:  ., test
    other-modules:   Data.Bits.Atomic
    main-is:         test.hs
    GHC-Options:      -O2 -funbox-strict-fields -threaded -fhpc
    GHC-Prof-Options: -auto-all

    Include-Dirs:     cbits
    C-Sources:        cbits/atomic-bitops-gcc.c


package-hashes:
    MD5:8fe6ba36efbe99fa38f18102d698d3ee
    SHA1:64b54f0a7952918bd4c9e197cf05d09cf8946a51
    SHA256:34bf3e3512e2b399ca7737413d30de7c9641b12d26a2cd89d50c04d62756f73d
    SHA512:30ccb79e46a0a655b09d237b4cc53e46e273e5b27bfb7679e1e664e3a21b0e7f7fb050c5531e83b546245b391bbd731931eede02596b2fa7023719032f7baeb9
    Skein512_512:716427c1c20f8ab0c39543adc00aae3385c98fcf02adc248c52d2e47e7719d676cd9c30ad6d40fe928cfe25b382d344134bdac416efd45dfa3938f6591cb74f4

package-locations:
    https://hackage.haskell.org/package/bits-atomic-0.1.2/bits-atomic-0.1.2.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/bits-atomic-0.1.2.tar.gz

package-size: 7660

-- BEGIN Added by all-cabal-hashes-tool
x-package-hashes:
    MD5:2d8122dc8a050f0abd3754d4d0a16ef0
    SHA1:6891c984f955bce09088d66422b374fb3bf3fca1
    SHA256:a04fd5dfa15434031e05617dfae09287f923bad7d6402e32c12906f22c1ddf05
    SHA512:a03a753b5660b500b21bd5623c9307319dc1aca979a1c463b671f527fb6455b9be513521fbcebc24f7630f9d9b6243e138a64d754e3dfe4cc603d436640d1aca
    Skein512_512:d0fb1f711be1acf582e273ab7d2b9005f5db8b1317d8889f2fb462918b7a40b2513f72eb2c6d60675b4af5fa01b13f58743cc642c0273a320067d0c74fb782cd

x-package-locations:
    https://hackage.haskell.org/package/socket-0.3.0.1/socket-0.3.0.1.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/socket-0.3.0.1.tar.gz

x-package-size: 21439
-- END Added by all-cabal-hashes-tool

name:                socket
version:             0.3.0.1
synopsis:            A portable and extensible sockets library.
description:
  __Motivation__
  .
  This library aims to expose a minimal and platform-independant interface for
  POSIX compliant networking code.
  .
  __Implementation Philosophy__
  .
    - Every operation and every flag exposed should be supported with same
      semantics on every platform. If this cannot be guaranteed it should
      be supplied by another (extension) package.
      Examples for things that have been ripped out of this library are:
      Unix sockets, SCTP, vectored IO (for now).
  .
    - Absolutely no conditional export.
  .
    - No `#ifdef` madness in the Haskell sources. The Haskell binding code
      uses the FFI to reference the platform's native networking functions.
      If they are not Posix compliant (i.e. under Windows) an level of
      indirection is introduced to write an Posix compliant equivalent in C
      using whatever the plaform specific building blocks are.
  .
  __Platform Support__
  .
  /Linux/
  .
  Working.
  .
  /BSD/
  .
  Unknown. Should work. Please report if not.
  .
  /MacOS/
  .
  Unknown. Please report if you have a Mac.
  .
  /Windows/
  .
  Unfinished (problem with non-blocking IO).
  .
  Aim: Support Windows7 or higher. Don't have dependencies on autotools, just
  Haskell Platform with MinGW should suffice.
  .
  /Android/
  .
  Unknown. Should be supported. Please get in touch if you plan to use it.
license:             MIT
license-file:        LICENSE
author:              Lars Petersen
maintainer:          info@lars-petersen.net
category:            System, Network
build-type:          Simple
cabal-version:       >=1.10
homepage:            https://github.com/lpeterse/haskell-socket
bug-reports:         https://github.com/lpeterse/haskell-socket/issues
tested-with:         GHC==7.10.1, GHC==7.8.3
extra-source-files:  README.md
                     CHANGELOG.md
                     include/hs_socket.h
                     include/hs_socket_win32.h
                     include/hs_socket_posix.h
                     cbits/hs_socket_win32.c
                     cbits/hs_socket_posix.c

library
  exposed-modules:     System.Socket
                     , System.Socket.Family
                     , System.Socket.Family.INET
                     , System.Socket.Family.INET6
                     , System.Socket.Type
                     , System.Socket.Type.RAW
                     , System.Socket.Type.DGRAM
                     , System.Socket.Type.STREAM
                     , System.Socket.Type.SEQPACKET
                     , System.Socket.Protocol
                     , System.Socket.Protocol.UDP
                     , System.Socket.Protocol.TCP
                     , System.Socket.Unsafe
  other-modules:       System.Socket.Internal.FFI
                     , System.Socket.Internal.Event
                     , System.Socket.Internal.Socket
                     , System.Socket.Internal.Exception
                     , System.Socket.Internal.Msg
                     , System.Socket.Internal.AddrInfo
  build-depends:       base >= 4.7 && < 5
                     , bytestring < 0.11
  hs-source-dirs:      src
  build-tools:         hsc2hs
  default-language:    Haskell2010
  ghc-options:         -Wall

  include-dirs:        include
  install-includes:    hs_socket.h
  if os(windows)
    c-sources:         cbits/hs_socket_win32.c
    extra-libraries:   ws2_32
    cpp-options:       -DFFI_SOCKET="hs_socket"
                       -DFFI_SOCKET_SAFETY=safe
                       -DFFI_BIND="hs_bind"
                       -DFFI_BIND_SAFETY=safe
                       -DFFI_LISTEN="hs_listen"
                       -DFFI_LISTEN_SAFETY=safe
                       -DFFI_CLOSE="hs_close"
                       -DFFI_CLOSE_SAFETY=safe
                       -DFFI_ACCEPT="hs_accept"
                       -DFFI_ACCEPT_SAFETY=safe
                       -DFFI_CONNECT="hs_connect"
                       -DFFI_CONNECT_SAFETY=safe
                       -DFFI_SEND="hs_send"
                       -DFFI_SEND_SAFETY=safe
                       -DFFI_SENDTO="hs_sendto"
                       -DFFI_SENDTO_SAFETY=safe
                       -DFFI_SENDMSG="hs_sendmsg"
                       -DFFI_SENDMSG_SAFETY=safe
                       -DFFI_RECV="hs_recv"
                       -DFFI_RECV_SAFETY=safe
                       -DFFI_RECVFROM="hs_recvfrom"
                       -DFFI_RECVFROM_SAFETY=safe
                       -DFFI_RECVMSG="hs_recvmsg"
                       -DFFI_RECVMSG_SAFETY=safe
                       -DFFI_GETSOCKOPT="hs_getsockopt"
                       -DFFI_GETSOCKOPT_SAFETY=safe
                       -DFFI_SETSOCKOPT="hs_setsockopt"
                       -DFFI_SETSOCKOPT_SAFETY=safe
                       -DFFI_GETADDRINFO="hs_getaddrinfo"
                       -DFFI_GETADDRINFO_SAFETY=safe
                       -DFFI_FREEADDRINFO="hs_freeaddrinfo"
                       -DFFI_FREEADDRINFO_SAFETY=unsafe
                       -DFFI_GETNAMEINFO="hs_getnameinfo"
                       -DFFI_GETNAMEINFO_SAFETY=safe
                       -DFFI_GAI_STRERROR="hs_gai_strerror"
                       -DFFI_GAI_STRERROR_SAFETY=unsafe
  else
    c-sources:         cbits/hs_socket_posix.c
    cpp-options:       -DFFI_SOCKET="socket"
                       -DFFI_SOCKET_SAFETY=unsafe
                       -DFFI_BIND="bind"
                       -DFFI_BIND_SAFETY=unsafe
                       -DFFI_LISTEN="listen"
                       -DFFI_LISTEN_SAFETY=unsafe
                       -DFFI_CLOSE="close"
                       -DFFI_CLOSE_SAFETY=unsafe
                       -DFFI_ACCEPT="accept"
                       -DFFI_ACCEPT_SAFETY=unsafe
                       -DFFI_CONNECT="connect"
                       -DFFI_CONNECT_SAFETY=unsafe
                       -DFFI_SEND="send"
                       -DFFI_SEND_SAFETY=unsafe
                       -DFFI_SENDTO="sendto"
                       -DFFI_SENDTO_SAFETY=unsafe
                       -DFFI_SENDMSG="sendmsg"
                       -DFFI_SENDMSG_SAFETY=unsafe
                       -DFFI_RECV="recv"
                       -DFFI_RECV_SAFETY=unsafe
                       -DFFI_RECVFROM="recvfrom"
                       -DFFI_RECVFROM_SAFETY=unsafe
                       -DFFI_RECVMSG="recvmsg"
                       -DFFI_RECVMSG_SAFETY=unsafe
                       -DFFI_GETSOCKOPT="getsockopt"
                       -DFFI_GETSOCKOPT_SAFETY=unsafe
                       -DFFI_SETSOCKOPT="setsockopt"
                       -DFFI_SETSOCKOPT_SAFETY=unsafe
                       -DFFI_GETADDRINFO="getaddrinfo"
                       -DFFI_GETADDRINFO_SAFETY=safe
                       -DFFI_FREEADDRINFO="freeaddrinfo"
                       -DFFI_FREEADDRINFO_SAFETY=unsafe
                       -DFFI_GETNAMEINFO="getnameinfo"
                       -DFFI_GETNAMEINFO_SAFETY=safe
                       -DFFI_GAI_STRERROR="gai_strerror"
                       -DFFI_GAI_STRERROR_SAFETY=unsafe

test-suite basic
  hs-source-dirs:      tests
  main-is:             Basic.hs
  type:                exitcode-stdio-1.0
  default-language:    Haskell2010
  build-depends:       base >= 4.7 && < 5
                     , bytestring < 0.11
                     , socket
                     , async

test-suite AddrInfo
  hs-source-dirs:      tests
  main-is:             AddrInfo.hs
  type:                exitcode-stdio-1.0
  default-language:    Haskell2010
  build-depends:       base >= 4.7 && < 5
                     , bytestring < 0.11
                     , socket

source-repository head
  type:     git
  location: git://github.com/lpeterse/haskell-socket.git

name:                tasty-rerun
version:             1.1.1
homepage:            http://github.com/ocharles/tasty-rerun
license:             BSD3
license-file:        LICENSE
author:              Oliver Charles
maintainer:          ollie@ocharles.org.uk
copyright:           Oliver Charles (c) 2014
category:            Testing
build-type:          Simple
cabal-version:       >=1.10
extra-source-files:
  Changelog.md

synopsis:
  Run tests by filtering the test tree depending on the result of previous test
  runs

description:
  This ingredient adds the ability to run tests by first filtering the test tree
  based on the result of a previous test run. For example, you can use this to
  run only those tests that failed in the last run, or to run only tests that
  have been added since tests were last ran.
  .
  This ingredient is specifically an ingredient *transformer* - given a list of
  'Tasty.Ingredient's, 'rerunningTests' adds the ability for all of these
  ingredients to run against a filtered test tree. This transformer can be
  applied as follows:
  .
  > import Test.Tasty
  > import Test.Tasty.Runners
  >
  > main :: IO ()
  > main =
  >   defaultMainWithIngredients
  >     [ rerunningTests [ listingTests, consoleTestReporter ] ]
  >     tests
  >
  > tests :: TestTree
  > tests = undefined
  .
  This ingredient adds three command line parameters:
  .
  [@--rerun-update@] If specified the results of this test run will be saved to
  the log file at @--rerun-log-file@. If the ingredient does not execute tests
  (for example, @--list-tests@ is used) then the log file will not be
  updated. This option is not enabled by default.  This option does not require
  a value.
  .
  [@--rerun-log-file@] The path to the log file to read previous test
  information from, and where to write new information to (if @--rerun-update@
  is specified). This option defaults to @.tasty-rerun-log@.
  .
  [@--rerun-filter@] Which filters to apply to the 'Tasty.TestTree' based on
  previous test runs. The value of this option is a comma separated list of the
  following options:
  .
     * @failures@: Only run tests that failed on the previous run.
  .
     * @exceptions@: Only run tests that threw an exception on the previous run.
  .
     * @new@: Only run tests that are new since the previous test run.
  .
     * @successful@: Only run tests that were successful in the previous run.
  .
  Multiple options can be combined and will be taken under disjunction - so
  @--rerun-filter=failures,exceptions@ will run only tests that failed *or*
  threw an exception on the last run.
  .
  Defaults to all filters, which means all tests will be ran.

library
  exposed-modules:     Test.Tasty.Ingredients.Rerun
  build-depends:
    base >=4.6 && <4.7,
    containers >= 0.5.0.0,
    mtl >= 2.1.2,
    optparse-applicative >= 0.6,
    reducers >= 3.10.1,
    split >= 0.1 && < 0.3,
    stm >= 2.4.2,
    tagged >= 0.7 && <0.8,
    tasty >=0.8 && <0.9,
    transformers >= 0.3.0.0
  hs-source-dirs:      src
  default-language:    Haskell2010
  ghc-options: -Wall

package-hashes:
    MD5:6ccbccde5870aa92ebb411c914a4a6d2
    SHA1:a4c52899c082023d9d97f2236142b5106f9ee3fa
    SHA256:e8b2fdfe991cc2b2c7c69d0a49da72b411d5982b140516fdb40aaabd0e71f2f5
    SHA512:697a7c57a461cc278175488e49d31d6c106d06930864cb85e7a3d6628eea2e1280d978539c3110af37e302c7743a3a7b19633d2105122de416615558567f385f
    Skein512_512:03c822acda374129e5e4d9bd29430c1d8af132915490de37d2fc694d960ef6b7332fa1279324815bbd8d1a7b5f30e556f27f9d2172518006b564081e0f45392c

package-locations:
    https://hackage.haskell.org/package/tasty-rerun-1.1.1/tasty-rerun-1.1.1.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/tasty-rerun-1.1.1.tar.gz

package-size: 5283

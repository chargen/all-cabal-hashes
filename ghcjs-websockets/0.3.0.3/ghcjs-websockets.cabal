-- BEGIN Added by all-cabal-hashes-tool
x-package-hashes:
    MD5:f9d568e06f5dd8a5489aa576364f3efa
    SHA1:0b5025bddf2ff4cff9d921a0bbd4e64c10d26e69
    SHA256:e7b3f8d2171c059cb8aeab71afd04c65dca389fe9a014b3e7e17ba1c85f2423a
    SHA512:c766f55a8809e2e4335016712d08d3c7a2dd9e08170f7a2099b8293d032ae032d4483f8a92c658658960c23d6c17e3033cd4e2c6e8d4a580f7c04316d2cc595f
    Skein512_512:f119fcfe6f0326d0439a9959986c6c8fc6d9e4659aef73b69a352aaf6e25e2c9210f53fd7443d596a7c2f098bbb33cb78edc53fe56c4d1a6dd39129f8ada239a

x-package-locations:
    https://hackage.haskell.org/package/ghcjs-websockets-0.3.0.3/ghcjs-websockets-0.3.0.3.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/ghcjs-websockets-0.3.0.3.tar.gz

x-package-size: 13540
-- END Added by all-cabal-hashes-tool

name:                ghcjs-websockets
version:             0.3.0.3
synopsis:            GHCJS interface for the Javascript Websocket API
description:
                     Documentation online at
                     <http://mstksg.github.io/ghcjs-websockets/JavaScript-WebSockets.html>
                     .
                     'ghcjs-websockets' aims to provide a clean, idiomatic,
                     efficient, low-level, out-of-your-way, bare bones,
                     concurrency-aware interface with minimal abstractions
                     over the Javascript Websockets API
                     <http://www.w3.org/TR/websockets/>,
                     inspired by common Haskell idioms found in libraries like
                     'io-stream'
                     <http://hackage.haskell.org/package/io-streams> and the
                     server-side 'websockets'
                     <http://hackage.haskell.org/package/websockets> library,
                     targeting compilation to Javascript with 'ghcjs'.
                     .
                     The interface asbtracts websockets as simple IO/file
                     handles, with additional access to the natively "typed"
                     (text vs binary) nature of the Javascript Websockets API.
                     There are also convenience functions to directly decode
                     serialized data (serialized with 'binary'
                     <http://hackage.haskell.org/package/binary>) sent through
                     channels.
                     .
                     The library is mostly intended to be a low-level FFI
                     library, with the hopes that other, more advanced
                     libraries maybe build on the low-level FFI bindings in
                     order to provide more advanced and powerful abstractions.
                     Most design decisions were made with the intent of
                     keeping things as simple as possible in order for future
                     libraries to abstract over it.
                     .
                     Most of the necessary functionality is in hopefully in
                     'JavaScript.WebSockets'; more of the low-level API is
                     exposed in 'JavaScript.WebSockets.Internal' if you need
                     it for library construction.
                     .
                     See the 'JavaScript.WebSockets' module for detailed usage
                     instructions and examples.
                     .
                     Some examples:
                     .
                     > import Data.Text (unpack)
                     >
                     > -- A simple echo client, echoing all incoming text data
                     > main :: IO ()
                     > main = withUrl "ws://my-server.com" $ \conn ->
                     >     forever $ do
                     >         t <- receiveText conn
                     >         putStrLn (unpack t)
                     >         sendText conn t
                     .
                     > -- A simple client waiting for connections and outputting the running sum
                     > main :: IO ()
                     > main = withUrl "ws://my-server.com" (runningSum 0)
                     >
                     > runningSum :: Int -> Connection -> IO ()
                     > runningSum n conn = do
                     >     i <- receiveData conn
                     >     print (n + i)
                     >     runningSum (n + i) conn
                     .
                     > -- Act as a relay between two servers
                     > main :: IO ()
                     > main = do
                     >     conn1 <- openConnection "ws://server-1.com"
                     >     conn2 <- openConnection "ws://server-2.com"
                     >     forever $ do
                     >         msg <- receiveMessage conn1
                     >         sendMessage conn2 msg
                     >     closeConnection conn2
                     >     closeConnection conn1

homepage:            http://github.com/mstksg/ghcjs-websockets
license:             MIT
license-file:        LICENSE
author:              Justin Le <justin@jle.im>
maintainer:          Justin Le <justin@jle.im>
copyright:           Copyright (c) Justin Le 2015
category:            Web
build-type:          Simple
extra-source-files:  CHANGELOG.md
                   , README.md
cabal-version:       >=1.10

source-repository head
  type:     git
  location: https://github.com/mstksg/ghcjs-websockets

flag ghcjs
  description: Tell cabal we are using ghcjs (work around until hackage supports impl(ghcjs))
  default: True

library
  exposed-modules:     JavaScript.WebSockets
                     , JavaScript.WebSockets.Internal
  -- ghcjs-options: -O2
  other-modules:       JavaScript.Blob
                     , JavaScript.WebSockets.FFI
                     , JavaScript.NoGHCJS
  -- other-extensions:
  ghc-options:         -Wall
  build-depends:       base              >= 4.7      && < 5
                     , base64-bytestring >= 1
                     , binary            >= 0.7
                     , bytestring        >= 0.10
                     , text              >= 1
  -- if impl(ghcjs)
  if flag(ghcjs)
    build-depends:     ghcjs-base        >= 0.1
  hs-source-dirs:      src
  default-language:    Haskell2010

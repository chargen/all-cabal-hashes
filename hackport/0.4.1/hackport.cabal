Name:           hackport
Version:        0.4.1
License:        GPL
License-file:   LICENSE
Author:         Henning GÃ¼nther, Duncan Coutts, Lennart Kolmodin
Maintainer:     Gentoo Haskell team <haskell@gentoo.org>
Category:       Distribution
Synopsis:       Hackage and Portage integration tool
Description:    A command line tool to manage an overlay of Gentoo ebuilds
                that are generated from a hackage repo of Cabal packages.
Build-Type:     Simple
Cabal-Version:  >=1.10

source-repository head
  type: git
  location: git://github.com/gentoo-haskell/hackport.git

Flag split-base

Executable    hackport
  ghc-options: -Wall
  ghc-prof-options: -caf-all -auto-all -rtsopts
  Main-Is:    Main.hs
  Default-Language: Haskell98
  Hs-Source-Dirs: ., cabal, cabal/Cabal, cabal/cabal-install
  Build-Depends:
    base >= 2.0 && < 5,
    deepseq >= 1.3 && < 1.4,
    filepath,
    parsec,
    mtl,
    network,
    pretty,
    regex-compat,
    MissingH,
    old-locale,
    HTTP >= 4000.0.3,
    zlib,
    tar,
    xml >= 1.3.7,
    array,
    extensible-exceptions,
    time,
    -- cabal depends
    unix

  -- extensions due to hackport
  other-extensions:
    DeriveDataTypeable,
    PatternGuards

  -- extensions due to bundled cabal-install
  other-extensions:
    CPP,
    ForeignFunctionInterface,
    PatternGuards

  if flag(split-base)
    Build-Depends:
      base >= 3 && < 5,
      directory,
      containers,
      process,
      old-time,
      bytestring
  else
     Build-Depends: base < 3

  other-modules:
    AnsiColor
    Cabal2Ebuild
    CacheFile
    Diff
    Error
    Hackage
    Main
    Overlays
    Paths_hackport
    Portage.Version
    Portage.Dependency
    Portage.GHCCore
    Portage.PackageId
    Portage.Overlay
    Portage.Resolve
    Portage.Host
    Portage.Tables
    Merge.Dependencies
    Setup
    Status
    Merge
    Util


Executable    hackport-guess-ghc-version
  ghc-options: -Wall
  Main-Is:    Main-GuessGHC.hs
  Default-Language: Haskell98
  Buildable:    False
  -- this was used as a test while developing the
  -- ghc-guessfeature. now we can disable building
  Build-Depends:
    base >= 2.0 && < 5,
    filepath,
    parsec,
    mtl,
    network,
    pretty,
    regex-compat,
    HTTP >= 4000.0.3,
    zlib,
    tar,
    array,
  -- array is inherited from cabal-install 
  -- tar >= 0.3.0.0 && < 0.4
    extensible-exceptions

  if flag(split-base)
    Build-Depends:
      base >= 3 && < 5,
      directory,
      containers,
      process,
      old-time,
      bytestring
  else
     Build-Depends: base < 3

  other-modules:
    Portage.GHCCore

Test-Suite test-resolve-category
  ghc-options: -Wall
  Type:                 exitcode-stdio-1.0
  Default-Language:     Haskell98
  Main-Is:              tests/resolveCat.hs
  Hs-Source-Dirs:       ., cabal, cabal/Cabal, cabal/cabal-install, tests
  Build-Depends:        base >= 3 && < 5,
                        deepseq >= 1.3 && < 1.4,
                        bytestring,
                        containers,
                        directory,
                        extensible-exceptions,
                        filepath,
                        HUnit,
                        mtl,
                        pretty,
                        process,
                        time,
                        unix,
                        xml

Test-Suite test-print-deps
  ghc-options: -Wall
  Type:                 exitcode-stdio-1.0
  Default-Language:     Haskell98
  Main-Is:              tests/print_deps.hs
  Hs-Source-Dirs:       ., cabal, cabal/Cabal, cabal/cabal-install, tests
  Build-Depends:        base >= 3 && < 5,
                        deepseq >= 1.3 && < 1.4,
                        bytestring,
                        containers,
                        directory,
                        extensible-exceptions,
                        filepath,
                        HUnit,
                        mtl,
                        pretty,
                        process,
                        time,
                        unix,
                        xml

Test-Suite test-normalize-deps
  ghc-options: -Wall
  Type:                 exitcode-stdio-1.0
  Default-Language:     Haskell98
  Main-Is:              tests/normalize_deps.hs
  Hs-Source-Dirs:       ., cabal, cabal/Cabal, cabal/cabal-install, tests
  Build-Depends:        base >= 3 && < 5,
                        deepseq >= 1.3 && < 1.4,
                        bytestring,
                        containers,
                        directory,
                        extensible-exceptions,
                        filepath,
                        HUnit,
                        mtl,
                        pretty,
                        process,
                        time,
                        unix,
                        xml


package-hashes:
    MD5:36fc462822deb1c91fa0da869a3646c1
    SHA1:a6d046cfdfa67c2019ff17e2c255b3621367dd83
    SHA256:d57f59429d868263f65b82b63d190ece9c0776dc570ca8a9d6c90e197c8522f0
    SHA512:fdf4d1353a3c0fc76a631694b0a96b73a3dbca5170e33564260694c30057940a614b4fed39b91a3d9e2b7b96bee7956fec618fe643d89a59a67366b4b4fd0dc3
    Skein512_512:32d468ca736d06c6775674255a691410f95645d376ba4b27f01276dde3231dbe89b67fa3abca6ee7c8282d2807b461c18ea4e6a266748f35086e33efd06fec7f

package-locations:
    https://hackage.haskell.org/package/hackport-0.4.1/hackport-0.4.1.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/hackport-0.4.1.tar.gz

package-size: 686859

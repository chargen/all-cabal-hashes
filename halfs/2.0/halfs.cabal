name:          halfs
version:       2.0
license:       BSD3
license-file:  LICENSE
author:        Joel Stanley <intractable@gmail.com>,
               Adam Wick <awick@galois.com>,
               Isaac Jones <ijones@galois.com>
maintainer:    Joel Stanley <intractable@gmail.com>
description:   A library implementing a file system suitable for use in 
               HaLVMs.  Provides useful abstractions over the underlying 
               block layer.  Implemented atop FUSE.  Note: This is a new
               implementation of the halfs project, and bears little to
               no resemblance to halfs 0.2.
synopsis:      The HAskelL File System ("halfs" -- intended for use on the HaLVM)
category:      System
stability:     experimental
build-type:    Simple
cabal-version: >= 1.8
tested-with:   GHC == 7.0.4 

source-repository head
  type:     git
  location: git clone https://github.com/GaloisInc/halfs.git 

flag build-tests
  description: Build the test executables

library
  build-depends:
                    QuickCheck,
                    array,
                    base >= 3 && <= 4,
                    bytestring,
                    cereal,
                    containers,
                    directory,
                    filepath,
                    fingertree,
                    mtl,
                    random,
                    time,
                    unix

  Exposed-Modules:
                    Halfs.BlockMap,
                    Halfs.Classes,
                    Halfs.CoreAPI,
                    Halfs.Directory,
                    Halfs.Errors,
                    Halfs.File,
                    Halfs.HalfsState,
                    Halfs.Inode,
                    Halfs.Monad,
                    Halfs.MonadUtils,
                    Halfs.Protection,
                    Halfs.SuperBlock,
                    Halfs.Types,
                    Halfs.Utils,
                    System.Device.BlockDevice,
                    System.Device.File,
                    System.Device.Memory,
                    System.Device.ST
                    Tests.Instances,
                    Tests.Types,
                    Tests.Utils

  extensions:
                    BangPatterns,
                    FlexibleContexts,
                    FlexibleInstances,
                    FunctionalDependencies,
                    GeneralizedNewtypeDeriving,
                    MultiParamTypeClasses,
                    ScopedTypeVariables

  hs-source-dirs   : . test/src
  GHC-Options      : -Wall -fno-ignore-asserts 
  ghc-prof-options : -prof -auto-all

executable halfs-tests
  if !flag(build-tests)
    buildable: False

  build-depends:
                 QuickCheck,
                 array,
                 base >= 3 && < 5,
                 bytestring,
                 cereal,
                 containers,
                 directory,
                 filepath,
                 fingertree,
                 halfs,
                 mtl,
                 random,
                 time

  hs-source-dirs   : test/src .
  main-is          : Driver.hs
  ghc-options      : -Wall -fno-ignore-asserts -threaded
  ghc-prof-options : -prof -auto-all

executable halfs
  build-depends:
                 HFuse >= 0.2.4.1,
                 array,
                 base >= 3 && < 5,
                 bytestring,
                 containers,
                 directory,
                 halfs,
                 unix

  hs-source-dirs   : fuse/src
  main-is          : Halfs.hs
  ghc-options      : -Wall -fno-ignore-asserts -threaded
  ghc-prof-options : -prof -auto-all



package-hashes:
    MD5:a889c9832197d53ee84308019264bcf6
    SHA1:c19acd15c12f036af9c0fdc4028ad2e6400baf6d
    SHA256:6d2a2125bae7acfde46c554a0ee0d133fd685f43bb42247eafbb327037c087cc
    SHA512:6f677f9436a18647627c71edef88e160ea6da92347c13325063ebd300434ec4a92c7c34398f45d4c2dd42bfbcc0cf9b5cbf0defead38c4eb0f04cdced5763d0a
    Skein512_512:031015d9cdc6ab85f64d0438a9636d452113450fc93fd44692cf5dc2503199416d034d96c04959b86d0e997bcace8c5668e59f62b5bfe4716386cda07f402b3b

package-locations:
    https://hackage.haskell.org/package/halfs-2.0/halfs-2.0.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/halfs-2.0.tar.gz

